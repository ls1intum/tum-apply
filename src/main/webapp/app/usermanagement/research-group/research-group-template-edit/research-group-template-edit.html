<div class="content">
  <div class="meta-info">
    <jhi-string-input
      class="template-name-input"
      [model]="templateDisplayName()"
      [required]="true"
      label="Template Name"
      [disabled]="formModel().isDefault ?? true"
      (modelChange)="setTemplateName($event)"
    />
    <jhi-select
      class="template-type-select"
      label="Send when"
      [items]="selectOptions()"
      [selected]="preselectedEmailType()"
      [required]="true"
      [disabled]="formModel().isDefault ?? true"
      (selectedChange)="setSelectedEmailType($event)"
    />
  </div>

  <p-tabs value="0" class="basic-tabs">
    <p-tablist class="tab-list">
      <p-tab value="0" class="basic-tab">English</p-tab>
      <p-tab value="1" class="basic-tab">German</p-tab>
    </p-tablist>

    <p-tabpanel value="0" class="tab-panel">
      <div>
        <label>Subject</label>

        <div class="subject-wrapper">
          <span class="subject-prefix">TUMApply -</span>
          <jhi-string-input
            class="subject-input"
            [model]="english().subject"
            [errorEnabled]="false"
            (modelChange)="updateEnglishSubject($event)"
          />
        </div>
      </div>

      <div>
        <label>Message</label>
        <!-- TODO: adapt to jhi-editor when preset input is enabled -->
        <quill-editor
          class="custom-quill-editor"
          [modules]="modules"
          [(ngModel)]="english().body"
          (ngModelChange)="updateEnglishBody($event)"
        />
      </div>
    </p-tabpanel>

    <p-tabpanel value="1" class="tab-panel">
      <div>
        <label>Subject</label>
        <div class="subject-wrapper">
          <span class="subject-prefix">TUMApply -</span>
          <jhi-string-input
            class="subject-input"
            [model]="german().subject"
            [errorEnabled]="false"
            (modelChange)="updateGermanSubject($event)"
          />
        </div>
      </div>

      <div>
        <label class="custom-label">Message</label>
        <!-- TODO: adapt to jhi-editor when preset input is enabled -->

        <quill-editor
          class="custom-quill-editor"
          [modules]="modules"
          [(ngModel)]="german().body"
          (ngModelChange)="updateGermanBody($event)"
        />
      </div>
    </p-tabpanel>
  </p-tabs>

  <div class="actions">
    <jhi-button label="Back" icon="chevron-left" variant="outlined" (click)="navigateBack()" />
    <div class="saving-state" [ngClass]="savingState().toLowerCase()">
      <fa-icon icon="floppy-disk" />
      <span>{{ savingState() }}</span>
    </div>
  </div>
</div>
