<header
  class="app-header border-b transition-colors duration-300"
  [class.border-border-default]="showBorder()"
  [class.border-transparent]="!showBorder()"
  [class.shadow-sm]="showBorder()"
>
  <div (click)="navigateToHome()" class="logo-section">
    <img alt="TUMApply Logo" class="tumapply-logo h-8" src="content/images/tum-apply-logo/tum-apply-logo.svg" />
    <span class="app-name">TUMApply</span>
    @if (isProfessorPage()) {
      <span class="professor" jhiTranslate="header.professorTitle"></span>
    }
  </div>

  <div class="actions-section">
    <div class="language-switch">
      @for (language of languages; track language; let isLast = $last) {
        <button (click)="toggleLanguage(language)" [ngClass]="{ active: currentLanguage() === language }" class="language-button">
          {{ language.toUpperCase() }}
        </button>
        @if (!isLast) {
          <span class="divider">|</span>
        }
      }
    </div>

    <div class="theme-switch">
      <jhi-button
        class="theme-toggle-button"
        (click)="toggleTheme()"
        [icon]="isDarkMode() ? 'moon' : 'custom-sun'"
        [tooltip]="'header.theme' | translate"
        variant="text"
        severity="primary"
      />
    </div>

    @if (user() === undefined) {
      @if (isProfessorPage()) {
        <jhi-button
          class="header-button"
          (click)="redirectToApplicantLandingPage()"
          label="{{ 'header.applicant' | translate }}"
          severity="primary"
          variant="outlined"
        />
      } @else {
        <jhi-button
          class="header-button"
          (click)="redirectToProfessorLandingPage()"
          label="{{ 'header.professor' | translate }}"
          severity="primary"
          variant="outlined"
        />
      }
      <jhi-button class="header-button" (click)="login()" label="{{ 'header.login' | translate }}" severity="primary" />
    } @else {
      <div class="profile" (click)="profileMenu.toggle($event)">
        <fa-icon class="profile-icon" icon="user" />
        <span class="font-medium">{{ user()?.name }}</span>
        <fa-icon class="dropdown-icon" icon="chevron-down" />
      </div>
      <p-menu #profileMenu [model]="profileMenuItems()" [popup]="true" [appendTo]="'body'">
        <ng-template pTemplate="item" let-item>
          @if (item.separator) {
            <div class="p-menu-separator"></div>
          } @else {
            <a class="p-menu-item-link" (click)="item.command && item.command()">
              @if (item.icon) {
                <fa-icon class="p-menu-item-icon" [icon]="item.icon" />
              }
              <span class="p-menu-item-label">{{ item.label }}</span>
            </a>
          }
        </ng-template>
      </p-menu>
    }
  </div>
</header>
