<div [class.sidebar-collapsed]="isSidebarCollapsed()" [class.sidebar]="!isSidebarCollapsed()">
  <div class="sidebar-content">
    @for (category of categories; track category.title) {
      @if (isSidebarCollapsed()) {
        @if (!$first) {
          <p-divider class="section-divider" />
        }
      } @else {
        <span [jhiTranslate]="category.title" class="section-title"></span>
      }

      <div class="buttons">
        @for (button of category.buttons; track button.text) {
          <jhi-sidebar-button
            [icon]="button.icon"
            [label]="button.text | translate"
            [link]="button.link"
            [isActive]="isActive(button.link)"
            [isCollapsed]="isSidebarCollapsed()"
          />
        }
      </div>
    }
  </div>
  <div class="settings-content">
    <p-divider />
    <div class="settings-row">
      <jhi-sidebar-button
        [isActive]="isActive('/settings')"
        [isCollapsed]="isSidebarCollapsed()"
        [label]="'settings.header' | translate"
        class="settings-button"
        icon="gear"
        link="/settings"
      />
      <p-button
        (click)="toggleSidebar()"
        [icon]="isSidebarCollapsed() ? 'pi pi-angle-double-right' : 'pi pi-angle-double-left'"
        [rounded]="true"
        [text]="true"
        class="sidebar-collapse-button"
      />
    </div>
  </div>
</div>
