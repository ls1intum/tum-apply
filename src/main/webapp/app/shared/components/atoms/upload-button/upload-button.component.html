<p-fileupload
  [customUpload]="true"
  [multiple]="true"
  accept="application/pdf"
  mode="advanced"
  [maxFileSize]="maxUploadSizeInMb * 1024 * 1024"
  (uploadHandler)="onUpload($event)"
  (onClear)="onClear()"
  [disabled]="disabled()"
  (onSelect)="onFileSelected($event)"
>
  <ng-template #header let-chooseCallback="chooseCallback" let-uploadCallback="uploadCallback" let-clearCallback="clearCallback">
    <div class="flex flex-wrap gap-2.5">
      <jhi-button variant="outlined" icon="plus" (click)="chooseCallback()" label="Select"></jhi-button>
      <jhi-button
        variant="outlined"
        icon="upload"
        (click)="uploadCallback()"
        label="Upload"
        [disabled]="(selectedFile() ?? []).length === 0"
      ></jhi-button>
      <jhi-button variant="outlined" icon="times" (click)="clearCallback()" label="Clear"></jhi-button>
    </div>
  </ng-template>
  <ng-template #empty>
    <div>Drag and drop files to here to upload.</div>
  </ng-template>
  <ng-template #content let-files let-removeFileCallback="removeFileCallback">
    @if (files?.length > 0) {
      <div class="mt-0">
        @for (file of files; track $index) {
          <div class="flex items-center justify-between border p-2 rounded mb-2">
            <div class="flex flex-col font-bold">
              <span class="font-small" contenteditable>{{ file.name }}</span>
              <small class="text-muted">{{ formatSize(file.size) }}</small>
            </div>
            <jhi-button
              icon="times"
              severity="danger"
              variant="outlined"
              class="p-button-rounded p-button-text p-button-danger"
              (click)="removeFileCallback($event, $index)"
              aria-label="Remove file"
            >
            </jhi-button>
          </div>
        }
      </div>
    }
    @if (documentIds(); as documentIds) {
      <div class="mt-0">
        @for (info of documentIds; track $index) {
          <div class="flex items-center justify-between border p-2 rounded mb-2">
            <div class="flex flex-col font-bold">
              <span class="font-small" contenteditable>{{ info.name }}</span>
              <small class="text-muted">{{ formatSize(info.size) }}</small>
            </div>
            <jhi-button icon="trash-alt" severity="danger" variant="outlined" (click)="deleteDictionary(info)" aria-label="Remove file">
            </jhi-button>
          </div>
        }
      </div>
    }
  </ng-template>
  <ng-template #file></ng-template>
</p-fileupload>
