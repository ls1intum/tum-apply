<div class="relative">
  @if (numberOfFavorites()) {
    <p-overlaybadge [value]="numberOfFavorites()" styleClass="button-overlay">
      <ng-container [ngTemplateOutlet]="button" />
    </p-overlaybadge>
  } @else {
    <ng-container [ngTemplateOutlet]="button" />
  }
</div>
<ng-template #button>
  <p-button
    [ariaLabel]="label() === undefined ? icon() : undefined"
    [disabled]="disabled()"
    [rounded]="label() === undefined"
    [severity]="severity()"
    [styleClass]="(label() === undefined ? 'rounded-full w-14 h-14' : '') + (fullWidth() ? ' w-full' : '')"
    [variant]="variant()"
  >
    @if (icon() !== undefined) {
      <fa-icon [icon]="[iconPrefix(), icon() ?? '']" />
    }
    {{ label() }}
    @if (isExternalLink()) {
      <fa-icon class="external-icon" size="xs" [icon]="faArrowUpRightFromSquare" aria-hidden="true" />
    }
  </p-button>
</ng-template>
