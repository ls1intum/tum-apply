<div class="relative">
  @if (numberOfFavorites()) {
    <p-overlaybadge [value]="numberOfFavorites()" class="button-overlay">
      <ng-container [ngTemplateOutlet]="button" />
    </p-overlaybadge>
  } @else {
    <ng-container [ngTemplateOutlet]="button" />
  }
</div>
<ng-template #button>
  <p-button
    [ariaLabel]="label() === undefined ? tooltip() : undefined"
    [disabled]="disabled()"
    [loading]="loading()"
    [severity]="severity()"
    [styleClass]="buttonClass()"
    [type]="type()"
    [variant]="variant()"
    [buttonProps]="{ autofocus: autofocus() }"
    [pTooltip]="tooltip()"
    [tooltipPosition]="tooltipPosition()"
    [tooltipOptions]="tooltipOptions()"
  >
    @if (icon() !== undefined) {
      <fa-icon [icon]="[iconPrefix(), icon() ?? '']" />
    }
    @if (label() !== undefined) {
      @if (shouldTranslate()) {
        <span jhiTranslate="{{ label() }}"></span>
      } @else {
        {{ label() }}
      }
    }
    @if (isExternalLink()) {
      <fa-icon class="external-icon" size="xs" [icon]="faArrowUpRightFromSquare" aria-hidden="true" />
    }
  </p-button>
</ng-template>
