<div class="flex flex-col gap-1">
  @if (label(); as label) {
    <label class="text-sm font-medium text-primary" [for]="inputId()">
      @if (shouldTranslate()) {
        <span [jhiTranslate]="label"></span>
      } @else {
        {{ label }}
      }
      @if (required()) {
        <span class="text-negative-default ml-0.5">*</span>
      }
    </label>
  }

  <div class="flex items-center gap-2" [class.border-negative-default]="inputState() === 'invalid' && !isFocused()">
    @if (control()) {
      <p-checkbox
        [formControl]="formControl()"
        [binary]="true"
        [id]="inputId()"
        size="small"
        (onChange)="onCheckboxChange($event)"
        (onBlur)="onBlur()"
        (onFocus)="onFocus()"
      />
    } @else {
      <p-checkbox
        [ngModel]="model()"
        (ngModelChange)="modelChange.emit($event)"
        [binary]="true"
        [id]="inputId()"
        [disabled]="disabled()"
        size="small"
        (onBlur)="onBlur()"
        (onFocus)="onFocus()"
      />
    }

    @if (icon(); as icon) {
      <span class="inline-flex">
        @if (icon === 'circle-info' && tooltipText()) {
          <fa-icon class="text-sm text-secondary cursor-pointer" [icon]="['fas', icon]" [pTooltip]="tooltipValue()" tooltipPosition="top" />
        } @else {
          <fa-icon class="text-sm text-secondary" [icon]="['fas', icon]" />
        }
      </span>
    }
  </div>

  @if (errorEnabled()) {
    <div class="text-xs text-negative-default min-h-4">
      @if (inputState() === 'invalid' && !isFocused()) {
        {{ errorMessage() }}
      }
    </div>
  }
</div>
