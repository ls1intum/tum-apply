<div class="input-container">
  <div class="label-top label-input-wrapper">
    @if (label()) {
      <label class="custom-label" [for]="id()">
        @if (shouldTranslate()) {
          <span [jhiTranslate]="label() ?? ''"></span>
        } @else {
          {{ label() }}
        }
        @if (required()) {
          <span class="required">*</span>
        }
        @if (icon()) {
          @if (icon() === 'circle-info' && tooltipText()) {
            <fa-icon class="icon" [icon]="['fas', icon() ?? '']" [pTooltip]="tooltipText()" tooltipPosition="top" />
          } @else {
            <fa-icon class="icon" [icon]="['fas', icon() ?? '']" />
          }
        }
      </label>
    }

    <div [class.error]="inputState() === 'invalid'" class="input-wrapper">
      <input
        (blur)="onBlur()"
        (focus)="onFocus()"
        (ngModelChange)="onInputChange($event)"
        [disabled]="disabled()"
        [id]="id()"
        [ngModel]="model()"
        [pAutoFocus]="autofocus()"
        [placeholder]="placeholder() ?? ''"
        [required]="required()"
        [style]="{ width: width() }"
        autocomplete="off"
        class="custom-input"
        pInputText
      />

      @if (formControl()) {
        <input type="hidden" [formControl]="formControl()" />
      }
    </div>
    @if (errorEnabled()) {
      <div class="error-text">
        @if (inputState() === 'invalid' && !isFocused()) {
          {{ errorMessage() }}
        }
      </div>
    }
  </div>
</div>
