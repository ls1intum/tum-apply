<form (ngSubmit)="onSubmit()" [formGroup]="form" class="credentials-form">
  @if (showEmail()) {
    <jhi-string-input
      [autofocus]="true"
      [control]="form.controls.email"
      [label]="'login.emailLogin.email' | translate"
      [placeholder]="'login.emailLogin.emailPlaceholder' | translate"
      id="email"
    />
  }

  @if (showPassword()) {
    <jhi-password-input
      [control]="form.controls.password"
      [label]="'login.emailLogin.password' | translate"
      [placeholder]="'login.emailLogin.password' | translate"
      id="password"
    />
  }

  @if (showOtp()) {
    <p-inputotp
      formControlName="otp"
      [length]="otpLength"
      [autofocus]="true"
      inputmode="latin"
      (keydown)="onOtpKeyDown($event)"
      (onChange)="onOtpChange($any($event))"
    />
  }

  <jhi-button
    [disabled]="form.invalid || isSubmitting || (form.pristine && submitError())"
    [fullWidth]="true"
    [label]="submitLabel() || 'login.emailLogin.login'"
    [loading]="isSubmitting"
    [shouldTranslate]="true"
    type="submit"
  />
</form>
