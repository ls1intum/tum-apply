@if (data(); as data) {
  <form [formGroup]="page2Form">
    <p-divider layout="horizontal">
      <span jhiTranslate="entity.applicationPage2.section.bachelor"></span>
    </p-divider>

    <div class="flex flex-col lg:flex-row lg:gap-8">
      <div class="lg:w-1/2 w-full">
        @if (applicationIdForDocuments(); as applicationId) {
          <div class="w-full mb-6">
            <label>
              <span jhiTranslate="entity.applicationPage2.label.bachelorCertificate"></span>
              <fa-icon
                class="icon"
                [icon]="['fas', 'circle-info']"
                [pTooltip]="'entity.applicationPage2.tooltip.filenamePrivacy' | translate"
                tooltipPosition="top"
              />
            </label>
            <jhi-upload-button
              uploadKey="entity.upload.upload_instruction.BACHELOR_TRANSCRIPT"
              documentType="BACHELOR_TRANSCRIPT"
              [applicationId]="applicationId"
              [documentIds]="documentIdsBachelorTranscript()"
            />
          </div>
        }
      </div>

      <div class="flex-1 flex flex-col">
        <jhi-string-input
          label="{{ 'entity.applicationPage2.label.bachelorDegreeName' | translate }}"
          [required]="true"
          [(model)]="data.bachelorDegreeName"
          [control]="page2Form.get('bachelorDegreeName') ?? undefined"
        />

        <jhi-string-input
          label="{{ 'entity.applicationPage2.label.bachelorDegreeUniversity' | translate }}"
          [required]="true"
          [(model)]="data.bachelorDegreeUniversity"
          [control]="page2Form.controls.bachelorDegreeUniversity"
        />

        <jhi-string-input
          label="{{ 'entity.applicationPage2.label.bachelorGrade' | translate }}"
          [required]="true"
          [(model)]="data.bachelorGrade"
          [control]="page2Form.controls.bachelorGrade"
          icon="circle-info"
          [tooltipText]="'entity.applicationPage2.tooltip.bachelorGrade' | translate"
          [helperTextLeft]="helperTextBachelorGrade()"
          [helperTextRight]="'entity.applicationPage2.helperText.changeScale' | translate"
          (helperTextRightClick)="onChangeGradingScale('bachelor')"
        />
      </div>
    </div>

    <p-divider layout="horizontal">
      <span jhiTranslate="entity.applicationPage2.section.master"></span>
    </p-divider>

    <div class="flex flex-col lg:flex-row lg:gap-8">
      <div class="lg:w-1/2 w-full">
        @if (applicationIdForDocuments(); as applicationId) {
          <div class="w-full mb-6">
            <label>
              <span jhiTranslate="entity.applicationPage2.label.masterCertificate"></span>
              <fa-icon
                class="icon"
                [icon]="['fas', 'circle-info']"
                [pTooltip]="'entity.applicationPage2.tooltip.filenamePrivacy' | translate"
                tooltipPosition="top"
              />
            </label>
            <jhi-upload-button
              [applicationId]="applicationId"
              documentType="MASTER_TRANSCRIPT"
              uploadKey="entity.upload.upload_instruction.MASTER_TRANSCRIPT"
              [documentIds]="documentIdsMasterTranscript()"
            />
          </div>
        }
      </div>

      <div class="flex-1 flex flex-col">
        <jhi-string-input
          label="{{ 'entity.applicationPage2.label.masterDegreeName' | translate }}"
          [required]="true"
          [(model)]="data.masterDegreeName"
          [control]="page2Form.controls.masterDegreeName"
        />
        <jhi-string-input
          label="{{ 'entity.applicationPage2.label.masterDegreeUniversity' | translate }}"
          [required]="true"
          [(model)]="data.masterDegreeUniversity"
          [control]="page2Form.controls.masterDegreeUniversity"
        />
        <jhi-string-input
          label="{{ 'entity.applicationPage2.label.masterGrade' | translate }}"
          [required]="true"
          [(model)]="data.masterGrade"
          [control]="page2Form.controls.masterGrade"
          icon="circle-info"
          [tooltipText]="'entity.applicationPage2.tooltip.masterGrade' | translate"
          [helperTextLeft]="helperTextMasterGrade()"
          [helperTextRight]="'entity.applicationPage2.helperText.changeScale' | translate"
          (helperTextRightClick)="onChangeGradingScale('master')"
        />
      </div>
    </div>
  </form>
}
<ng-template
  #gradeInput
  let-labelKey="labelKey"
  let-tooltipKey="tooltipKey"
  let-control="control"
  let-model="model"
  let-modelChange="modelChange"
>
  <jhi-number-input
    [required]="true"
    [label]="labelKey | translate"
    [tooltipText]="tooltipKey | translate"
    [control]="control"
    [model]="model"
    (modelChange)="modelChange($event)"
    icon="circle-info"
    [min]="1"
    [max]="4"
    [minFractionDigits]="0"
    [maxFractionDigits]="1"
    [customErrorKey]="'entity.applicationPage2.validation.invalidGrade'"
  />
</ng-template>
