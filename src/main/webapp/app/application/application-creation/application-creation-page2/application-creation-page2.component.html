<form [formGroup]="page2Form()">
  <p-divider layout="horizontal">
    <span jhiTranslate="entity.applicationPage2.section.bachelor"></span>
  </p-divider>

  <div class="form-row">
    <div class="form-field">
      <jhi-string-input
        label="{{ 'entity.applicationPage2.label.bachelorDegreeName' | translate }}"
        [required]="true"
        [(model)]="data().bachelorDegreeName"
        [control]="page2Form().get('bachelorDegreeName') ?? undefined"
        icon="circle-info"
        [tooltipText]="'entity.applicationPage2.tooltip.bachelorDegreeName' | translate"
      />
    </div>
    <div class="form-field">
      <jhi-string-input
        label="{{ 'entity.applicationPage2.label.bachelorDegreeUniversity' | translate }}"
        [required]="true"
        [(model)]="data().bachelorDegreeUniversity"
        [control]="page2Form().controls.bachelorDegreeUniversity"
        icon="circle-info"
        [tooltipText]="'entity.applicationPage2.tooltip.bachelorDegreeUniversity' | translate"
      />
    </div>
  </div>

  <div class="form-row mb-6">
    <div class="form-field">
      <jhi-string-input
        label="{{ 'entity.applicationPage2.label.gradeUpperLimit' | translate }}"
        [required]="true"
        [(model)]="data().bachelorGradeUpperLimit"
        [control]="page2Form().controls.bachelorGradeUpperLimit"
        icon="circle-info"
        [tooltipText]="'entity.applicationPage2.tooltip.bachelorGradeUpperLimit' | translate"
      />
    </div>
    <div class="form-field">
      <jhi-string-input
        label="{{ 'entity.applicationPage2.label.gradeLowerLimit' | translate }}"
        [required]="true"
        [(model)]="data().bachelorGradeLowerLimit"
        [control]="page2Form().controls.bachelorGradeLowerLimit"
        icon="circle-info"
        [tooltipText]="'entity.applicationPage2.tooltip.bachelorGradeLowerLimit' | translate"
      />
    </div>
    <div class="form-field">
      <jhi-string-input
        label="{{ 'entity.applicationPage2.label.bachelorGrade' | translate }}"
        [required]="true"
        [(model)]="data().bachelorGrade"
        [control]="page2Form().controls.bachelorGrade"
        icon="circle-info"
        [tooltipText]="'entity.applicationPage2.tooltip.bachelorGrade' | translate"
      />
    </div>
  </div>

  @if (applicationIdForDocuments(); as applicationId) {
    <div class="form-row justify-center">
      <div class="w-1/2 mb-6">
        <jhi-upload-button
          uploadKey="entity.upload.upload_instruction.BACHELOR_TRANSCRIPT"
          documentType="BACHELOR_TRANSCRIPT"
          [applicationId]="applicationId"
          [documentIds]="documentIdsBachelorTranscript()"
        />
      </div>
      <fa-icon
        icon="circle-info"
        class="upload-info-icon"
        pTooltip="{{ 'entity.applicationPage2.tooltip.filenamePrivacy' | translate }}"
        tooltipPosition="top"
      />
    </div>
  }

  <p-divider layout="horizontal">
    <span jhiTranslate="entity.applicationPage2.section.master"></span>
  </p-divider>

  <div class="form-row">
    <div class="form-field">
      <jhi-string-input
        label="{{ 'entity.applicationPage2.label.masterDegreeName' | translate }}"
        [required]="true"
        [(model)]="data().masterDegreeName"
        [control]="page2Form().controls.masterDegreeName"
        icon="circle-info"
        [tooltipText]="'entity.applicationPage2.tooltip.masterDegreeName' | translate"
      />
    </div>
    <div class="form-field">
      <jhi-string-input
        label="{{ 'entity.applicationPage2.label.masterDegreeUniversity' | translate }}"
        [required]="true"
        [(model)]="data().masterDegreeUniversity"
        [control]="page2Form().controls.masterDegreeUniversity"
        icon="circle-info"
        [tooltipText]="'entity.applicationPage2.tooltip.masterDegreeUniversity' | translate"
      />
    </div>
  </div>

  <div class="form-row mb-6">
    <div class="form-field">
      <jhi-string-input
        label="{{ 'entity.applicationPage2.label.gradeUpperLimit' | translate }}"
        [required]="true"
        [(model)]="data().masterGradeUpperLimit"
        [control]="page2Form().controls.masterGradeUpperLimit"
        icon="circle-info"
        [tooltipText]="'entity.applicationPage2.tooltip.masterGradeUpperLimit' | translate"
      />
    </div>
    <div class="form-field">
      <jhi-string-input
        label="{{ 'entity.applicationPage2.label.gradeLowerLimit' | translate }}"
        [required]="true"
        [(model)]="data().masterGradeLowerLimit"
        [control]="page2Form().controls.masterGradeLowerLimit"
        icon="circle-info"
        [tooltipText]="'entity.applicationPage2.tooltip.masterGradeLowerLimit' | translate"
      />
    </div>
    <div class="form-field">
      <jhi-string-input
        label="{{ 'entity.applicationPage2.label.masterGrade' | translate }}"
        [required]="true"
        [(model)]="data().masterGrade"
        [control]="page2Form().controls.masterGrade"
        icon="circle-info"
        [tooltipText]="'entity.applicationPage2.tooltip.masterGrade' | translate"
      />
    </div>
  </div>

  @if (applicationIdForDocuments(); as applicationId) {
    <div class="form-row justify-center">
      <div class="w-1/2 mb-6">
        <jhi-upload-button
          [applicationId]="applicationId"
          documentType="MASTER_TRANSCRIPT"
          uploadKey="entity.upload.upload_instruction.MASTER_TRANSCRIPT"
          [documentIds]="documentIdsMasterTranscript()"
        />
      </div>
      <fa-icon
        icon="circle-info"
        class="upload-info-icon"
        pTooltip="{{ 'entity.applicationPage2.tooltip.filenamePrivacy' | translate }}"
        tooltipPosition="top"
      />
    </div>
  }
</form>

<ng-template
  #gradeInput
  let-labelKey="labelKey"
  let-tooltipKey="tooltipKey"
  let-control="control"
  let-model="model"
  let-modelChange="modelChange"
>
  <jhi-number-input
    [required]="true"
    [label]="labelKey | translate"
    [tooltipText]="tooltipKey | translate"
    [control]="control"
    [model]="model"
    (modelChange)="modelChange($event)"
    icon="circle-info"
    [min]="1"
    [max]="4"
    [minFractionDigits]="0"
    [maxFractionDigits]="1"
  />
</ng-template>
