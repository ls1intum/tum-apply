<!-- Confirm Dialogs -->
<jhi-confirm-dialog
  #withdrawDialog
  [label]="'button.withdraw' | translate"
  [header]="'entity.applicationOverview.dialogs.withdrawHeader' | translate"
  [message]="'entity.applicationOverview.dialogs.withdrawMessage' | translate"
  severity="danger"
  confirmIcon="withdraw"
  [showOpenButton]="false"
  (confirmed)="currentApplicationId() && onWithdrawApplication(currentApplicationId()!)"
/>

<jhi-confirm-dialog
  #deleteDialog
  [label]="'button.delete' | translate"
  [header]="'entity.applicationOverview.dialogs.deleteHeader' | translate"
  [message]="'entity.applicationOverview.dialogs.deleteMessage' | translate"
  severity="danger"
  confirmIcon="trash"
  [showOpenButton]="false"
  (confirmed)="currentApplicationId() && onDeleteApplication(currentApplicationId()!)"
/>

<div class="page-container">
  <header class="page-header">
    <h1 jhiTranslate="entity.application_overview.applicant.header" class="h1-text"></h1>
  </header>

  <jhi-dynamic-table
    [columns]="columns()"
    [data]="pageData()"
    [totalRecords]="total()"
    [rows]="pageSize()"
    [selectable]="true"
    (lazyLoad)="loadPage($event)"
  />

  <ng-template #stateTemplate let-row>
    <jhi-application-state-for-applicants [state]="row.applicationState" />
  </ng-template>

  <ng-template #actionTemplate let-row>
    <div class="flex justify-end gap-1">
      <jhi-button [tooltip]="'button.view' | translate" icon="eye" variant="text" (click)="onViewApplication(row.applicationId)" />
      <jhi-button
        [tooltip]="getMenuItems()(row).length > 0 ? ('button.actions' | translate) : ('button.noFurtherActions' | translate)"
        icon="ellipsis-vertical"
        variant="text"
        (click)="menu.toggle($event)"
        [disabled]="getMenuItems()(row).length === 0"
      />
      <jhi-menu #menu [items]="getMenuItems()(row)" [shouldTranslate]="true" />
    </div>
  </ng-template>
  <ng-template #jobNameTemplate let-row>
    <div class="w-full h-full flex justify-between items-center">
      <a class="clickable-link" [routerLink]="['/job/detail', row.jobId]">{{ row.jobTitle }}</a>
    </div>
  </ng-template>

  <ng-template #timeSinceCreationTemplate let-row>
    {{ row.createdAt | timeAgo }}
  </ng-template>
</div>
