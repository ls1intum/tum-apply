<div
  class="flex items-center justify-between p-3 bg-background-default border rounded border-border-default h-16 cursor-pointer hover:bg-background-surface transition-colors"
  (click)="navigateToAssessment()"
>
  <div class="flex items-center">
    <!-- Name -->
    <span class="text-sm font-bold text-text-primary w-24 md:w-48 lg:w-64 truncate">
      {{ interviewee().user?.firstName }} {{ interviewee().user?.lastName }}
    </span>

    <!-- Status Group -->
    <div class="flex items-end gap-3 mr-8">
      <!-- Status Bar -->
      <div
        class="w-1 h-6 rounded-full"
        [class.bg-primary-200]="interviewee().state === IntervieweeState.UNCONTACTED"
        [class.bg-primary-300]="interviewee().state === IntervieweeState.INVITED"
        [class.bg-primary-400]="interviewee().state === IntervieweeState.SCHEDULED"
        [class.bg-primary-default]="interviewee().state === IntervieweeState.COMPLETED"
      ></div>

      <!-- Status Text -->
      <span
        class="text-text-secondary text-sm whitespace-nowrap"
        [jhiTranslate]="'interview.interviewees.filter.' + interviewee().state"
      ></span>
    </div>

    <!-- Schedule Details (only for SCHEDULED state) -->
    @if (interviewee().state === IntervieweeState.SCHEDULED && interviewee().scheduledSlot) {
      <div class="flex items-center self-end gap-8 text-sm text-text-secondary">
        <!-- Date -->
        <div class="flex items-center gap-2">
          <fa-icon icon="calendar" class="text-xs text-icon-disabled" />
          <span>{{ scheduledDate() }}</span>
        </div>

        <!-- Time -->
        <div class="flex items-center gap-2">
          <fa-icon icon="clock" class="text-xs text-icon-disabled" />
          <span>{{ timeRange() }}</span>
        </div>

        <!-- Location -->
        <div class="flex items-center gap-2">
          <fa-icon [icon]="isVirtual() ? 'video' : 'location-dot'" class="text-xs text-icon-disabled" />
          <span>{{ location() }}</span>
        </div>
      </div>
    }
  </div>

  <!-- Actions for UNCONTACTED or INVITED state -->
  @if (interviewee().state === IntervieweeState.UNCONTACTED || interviewee().state === IntervieweeState.INVITED) {
    <jhi-button
      (click)="$event.stopPropagation(); sendInvitation.emit(interviewee())"
      [shouldTranslate]="true"
      [icon]="interviewee().state === IntervieweeState.INVITED ? 'rotate-right' : 'paper-plane'"
      variant="outlined"
      severity="primary"
      [disabled]="sending()"
      [loading]="sending()"
      [label]="
        interviewee().state === IntervieweeState.INVITED
          ? 'interview.interviewees.resendInvitation'
          : 'interview.interviewees.sendInvitation'
      "
    />
  }
</div>
