<div class="relative min-w-[13.75rem] border border-border-default rounded-lg p-2.5">
  <!-- Kebab Menu Button -->
  <button
    class="absolute top-2 right-2 p-0.5 hover:bg-background-surface rounded transition-colors z-10"
    (click)="menu.toggle($event); $event.stopPropagation()"
  >
    <fa-icon icon="ellipsis-vertical" class="text-text-secondary text-xs" />
  </button>

  <!-- Menu -->
  <jhi-menu #menu [items]="menuItems()" [shouldTranslate]="true" />

  <!-- Confirm Dialog -->
  <jhi-confirm-dialog
    #deleteDialog
    [label]="'button.delete' | translate"
    [header]="'interview.slots.delete.confirm.header' | translate"
    [message]="'interview.slots.delete.confirm.message' | translate"
    [severity]="'danger'"
    [confirmIcon]="'trash'"
    [showOpenButton]="false"
    (confirmed)="onDelete()"
  />

  <!-- Card Content -->
  <div class="flex flex-col gap-1.5 pr-5">
    @if (isBooked()) {
      <!-- Booked Slot: Time + Badge -->
      <div class="flex items-center justify-between">
        <span class="text-sm font-semibold text-text-primary">{{ timeRange() }}</span>
        <span
          class="bg-positive-100 text-positive-default px-2 py-0.5 rounded-full text-[10px] font-semibold uppercase"
          jhiTranslate="interview.slots.status.booked"
        >
          booked
        </span>
      </div>

      <!-- Applicant Name + Location -->
      <div class="flex items-center justify-between gap-2">
        <span class="text-xs text-text-primary font-medium">{{ applicantName() }}</span>
        <div class="flex items-center gap-1 text-xs text-text-secondary">
          <fa-icon [icon]="isVirtual() ? 'video' : 'location-dot'" class="text-[10px]" />
          <span [jhiTranslate]="isVirtual() ? 'interview.slots.location.virtual' : 'interview.slots.location.inPerson'">
            {{ isVirtual() ? 'virtual' : 'in-person' }}
          </span>
        </div>
      </div>
    }

    @if (!isBooked()) {
      <!-- Available Slot: Time + Location -->
      <div class="flex items-center justify-between gap-2">
        <span class="text-sm font-semibold text-text-primary">{{ timeRange() }}</span>
        <div class="flex items-center gap-1 text-xs text-text-secondary">
          <fa-icon [icon]="isVirtual() ? 'video' : 'location-dot'" class="text-[10px]" />
          <span [jhiTranslate]="isVirtual() ? 'interview.slots.location.virtual' : 'interview.slots.location.inPerson'">
            {{ isVirtual() ? 'virtual' : 'in-person' }}
          </span>
        </div>
      </div>

      <!-- Assign Button -->
      <jhi-button
        class="w-full"
        [fullWidth]="true"
        variant="text"
        icon="plus"
        label="button.assign"
        [shouldTranslate]="true"
        [styleClass]="'h-6 px-3 py-1 text-xs font-medium text-text-secondary border border-border-default rounded-md hover:bg-background-surface transition-all flex items-center justify-center'"
        (click)="onAssign()"
      />
    }
  </div>
</div>
