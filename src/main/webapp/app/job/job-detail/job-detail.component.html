<div class="container">
  <header class="page-header">
    <!-- display job state if the logged-in user is a professor -->
    <h1 class="job-title">{{ this.title() }}</h1>
    <div class="job-meta">
      <div class="meta-item">
        <fa-icon [icon]="['fas', 'user-tie']" class="meta-icon" />
        <span><strong jhiTranslate="jobDetailPage.header.supervisor"></strong>{{ this.supervisingProfessor() }}</span>
      </div>
      <div class="meta-item">
        <fa-icon [icon]="['fas', 'microscope']" class="meta-icon" />
        <span><strong jhiTranslate="jobDetailPage.header.researchGroup"></strong>{{ this.researchGroup() }}</span>
      </div>
      <div class="meta-item">
        <fa-icon [icon]="['fas', 'location-dot']" class="meta-icon" />
        <span><strong jhiTranslate="jobDetailPage.header.location"></strong>{{ this.location() }}</span>
      </div>
    </div>
  </header>

  <div class="content-grid">
    <main class="job-overview">
      <section class="detail-group">
        <h2 class="section-title" jhiTranslate="jobDetailPage.positionOverview.positionOverview"></h2>
        <div class="detail-row">
          <span class="detail-label" jhiTranslate="jobDetailPage.positionOverview.fieldOfStudies"></span>
          <span class="detail-value">
            <span class="detail-value">{{ this.fieldOfStudies() }}</span>
          </span>
        </div>
        <div class="detail-row">
          <span class="detail-label" jhiTranslate="jobDetailPage.positionOverview.researchArea"></span>
          <span class="detail-value">{{ this.researchArea() }}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label" jhiTranslate="jobDetailPage.positionOverview.workload"></span>
          <span
            class="detail-value"
            jhiTranslate="jobDetailPage.positionOverview.hoursPerWeek"
            [translateValues]="{ workload: this.workload() }"
          ></span>
        </div>
        <div class="detail-row">
          <span class="detail-label" jhiTranslate="jobDetailPage.positionOverview.contractDuration"></span>
          <span
            class="detail-value"
            jhiTranslate="jobDetailPage.positionOverview.years"
            [translateValues]="{ years: this.contractDuration() }"
          ></span>
        </div>
        <div class="detail-row">
          <span class="detail-label" jhiTranslate="jobDetailPage.positionOverview.fundingType"></span>
          <span class="detail-value">{{ this.fundingType() }}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label" jhiTranslate="jobDetailPage.positionOverview.startDate"></span>
          <span class="detail-value">{{ this.startDate() }}</span>
        </div>
      </section>

      <section class="detail-group">
        <div class="detail-row">
          <span class="detail-label" jhiTranslate="jobDetailPage.positionOverview.created"></span>
          <span class="detail-value">{{ this.createdAt() }}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label" jhiTranslate="jobDetailPage.positionOverview.lastModified"></span>
          <span class="detail-value">{{ this.lastModifiedAt() }}</span>
        </div>
      </section>
    </main>

    <aside class="research-group">
      <h2 class="section-title" jhiTranslate="jobDetailPage.researchGroupDetails.researchGroup"></h2>

      <h3>{{ this.researchGroup() }}</h3>

      <p class="description-text" [innerHTML]="this.researchGroupDescription()"></p>

      <div class="contact-info">
        <div class="contact-item">
          <fa-icon [icon]="['fas', 'envelope']" class="contact-icon" />
          <a [href]="'mailto:' + this.researchGroupEmail()" class="link">{{ this.researchGroupEmail() }}</a>
        </div>
        <div class="contact-item">
          <fa-icon [icon]="['fas', 'globe']" class="contact-icon" />
          <a [href]="this.researchGroupWebsite()" class="link">{{ this.researchGroupWebsite() }}</a>
        </div>
        <div class="contact-item">
          <fa-icon [icon]="['fas', 'location-dot']" class="contact-icon" />
          <div>
            <div>{{ this.researchGroupStreet() }}</div>
            <div>{{ this.researchGroupPostalCode() }}</div>
            <div>{{ this.researchGroupCity() }}</div>
          </div>
        </div>
      </div>
    </aside>
  </div>

  <section class="descriptive-section">
    <h2 class="section-title" jhiTranslate="jobDetailPage.positionDetails.positionDetails"></h2>

    <div class="descriptive-grid">
      <div class="description-column">
        <div class="detail-group">
          <h3 jhiTranslate="jobDetailPage.positionDetails.description"></h3>
          <div class="description-text" [innerHTML]="this.description()"></div>
        </div>

        <div class="detail-group">
          <h3 jhiTranslate="jobDetailPage.positionDetails.tasks"></h3>
          <div class="description-text" [innerHTML]="this.tasks()"></div>
        </div>
      </div>

      <div class="description-column">
        <div class="detail-group">
          <h3 jhiTranslate="jobDetailPage.positionDetails.requirements"></h3>
          <div class="description-text" [innerHTML]="this.requirements()"></div>
        </div>
      </div>
    </div>
  </section>
  <section class="data-privacy-section">
    <h2 class="section-title" jhiTranslate="jobDetailPage.dataPrivacy.dataProtectionInformation"></h2>
    <p class="data-text-section" [innerHTML]="'jobDetailPage.dataPrivacy.dataProtectionText' | translate"></p>
  </section>
  <section class="action-buttons-section">
    <!-- if professor is logged in, then it shows "Close Job" button ("Delete Job" button if the Job is a draft) "Edit Job" button -->
    <!-- else display "Apply Now" button -->
    <jhi-button class="apply-btn" label="Apply Now" [disabled]="true" severity="primary" />
  </section>
</div>
