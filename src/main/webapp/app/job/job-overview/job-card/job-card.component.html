<div
  class="rounded-lg border border-border-default hover:scale-[1.02] hover:bg-background-surface focus-within:ring-2 focus-within:ring-primary focus-within:outline-none transition-all duration-200 overflow-hidden cursor-pointer w-full h-full max-h-[26rem] flex flex-col"
  tabindex="0"
  role="button"
  [attr.aria-label]="'jobOverviewPage.ariaLabels.viewJobDetails' | translate: { title: jobTitle() }"
  (click)="onViewDetails()"
  (keydown)="onKeyDown($event)"
>
  <div
    class="relative h-32 flex items-end px-4 pb-3 bg-cover bg-center flex-shrink-0"
    [style.background-image]="
      headerImageUrl() ? 'linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(' + headerImageUrl() + ')' : 'none'
    "
    [style.background-color]="headerImageUrl() ? 'transparent' : 'var(--p-secondary-color)'"
  >
    <span class="bg-black/30 backdrop-blur-sm text-white text-xs font-medium px-3 py-1 rounded-pill">
      {{ departmentName() }}
    </span>
  </div>

  <!-- Content section -->
  <div class="p-4 flex-1 flex flex-col">
    <!-- Job title -->
    <h3 class="text-lg font-semibold line-clamp-2 min-h-[3.5rem] flex items-center" [title]="jobTitle()">
      {{ jobTitle() }}
    </h3>

    <!-- Deadline -->
    @if (relativeTime()) {
      <p class="text-sm italic text-text-tertiary mb-4">
        {{ relativeTime() }}
      </p>
    }

    <!-- Info items -->
    <div class="space-y-2 mb-4 flex-shrink-0">
      <div class="flex items-center gap-2 text-sm">
        <fa-icon
          [icon]="['fas', 'user-tie']"
          class="icon w-4"
          [pTooltip]="'jobOverviewPage.tooltips.supervisor' | translate"
          tooltipPosition="top"
        />
        <span class="truncate">Prof. {{ professor() }}</span>
      </div>
      <div class="flex items-center gap-2 text-sm">
        <fa-icon
          [icon]="['fas', 'location-dot']"
          class="icon w-4"
          [pTooltip]="'jobOverviewPage.tooltips.location' | translate"
          tooltipPosition="top"
        />
        <span class="truncate">{{ (dropDownOptions.getLocationTranslationKey(location()) | translate) || '-' }}</span>
      </div>
      @if (this.startDate() | localizedDate) {
        <div class="flex items-center gap-2 text-sm">
          <fa-icon
            [icon]="['fas', 'calendar']"
            class="icon w-4"
            [pTooltip]="'jobOverviewPage.tooltips.startDate' | translate"
            tooltipPosition="top"
          />
          <span class="truncate">Start: {{ this.startDate() | localizedDate }}</span>
        </div>
      }
    </div>

    <!-- Tags/Badges section -->
    <div class="flex flex-wrap gap-2 mt-auto">
      @if (formattedContractDuration()) {
        <span class="px-3 py-1 text-primary text-xs font-medium rounded-pill border border-primary">
          {{ formattedContractDuration() }} <span jhiTranslate="jobDetailPage.units.years"></span>
        </span>
      }
      @if (formattedWorkload()) {
        <span class="px-3 py-1 text-primary text-xs font-medium rounded-pill border border-primary"> {{ formattedWorkload() }} </span>
      }
    </div>
  </div>
</div>
